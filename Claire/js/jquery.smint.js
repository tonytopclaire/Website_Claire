(function(){$.fn.smint=function(a){a=$.extend({scrollSpeed:500,mySelector:"div"},a);$(this).addClass("smint");var d=[],g=0,m=$(".smint").height(),e=$(".smint"),h=$(".smint a"),k=e.height();if(a.scrollSpeed)var n=a.scrollSpeed;if(a.mySelector)var f=a.mySelector;return h.each(function(a){var c=$(this).attr("href").split("#")[1];$(this).hasClass("extLink")||$(this).attr("id",c);d.push([$(f+"."+c).position().top-m,$(f+"."+c).height()+$(f+"."+c).position().top,c]);var q=e.offset().top,p=function(b){var l=
$(window).scrollTop()+k;l>q+k?(e.css({position:"fixed",top:0,left:0}).addClass("fxd"),$("body").css("padding-top",m)):(e.css("position","relative").removeClass("fxd"),$("body").css("padding-top","0"));d[a][0]<=l&&l<=d[a][1]&&("up"==b?($("#"+c).addClass("active"),$("#"+d[a+1][2]).removeClass("active")):0<a?($("#"+c).addClass("active"),$("#"+d[a-1][2]).removeClass("active")):void 0==b&&$("#"+c).addClass("active"),$.each(d,function(b){c!=d[b][2]&&$("#"+d[b][2]).removeClass("active")}))};p();$(window).scroll(function(){var b=
$(this).scrollTop()+k;b>g?direction="down":b<g&&(direction="up");g=b;p(direction);$(window).scrollTop()+$(window).height()==$(document).height()?(h.removeClass("active"),$(".smint a:not('.extLink'):last").addClass("active")):h.last().removeClass("active")});$(this).on("click",function(b){var a=e.height();b.preventDefault();b=$(this).attr("href").split("#")[1];a=$(f+"."+b).offset().top-a;$("html, body").stop().animate({scrollTop:a},n);if($(this).hasClass("extLink"))return!1});$(".intLink").on("click",
function(b){var a=e.height();b.preventDefault();b=$(this).attr("href").split("#")[1];a=e.hasClass("fxd")?$(f+"."+b).position().top-a:$(f+"."+b).position().top-2*a;$("html, body").stop().animate({scrollTop:a},n);if($(this).hasClass("extLink"))return!1})})};$.fn.smint.defaults={scrollSpeed:500,mySelector:"div"}})(jQuery);